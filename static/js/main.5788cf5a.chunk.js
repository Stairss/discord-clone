(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{77:function(e,n,c){},81:function(e,n,c){},82:function(e,n,c){},83:function(e,n,c){},86:function(e,n,c){},89:function(e,n,c){},90:function(e,n,c){},91:function(e,n,c){},92:function(e,n,c){"use strict";c.r(n);var a=c(2),s=c.n(a),t=c(25),i=c.n(t),r=(c(77),c(17)),l=(c(81),c(36)),o=(c(82),c(60)),d=c.n(o),j=(c(83),c(49)),b=c.n(j),h=c(54),u=c.n(h),m=c(55),O=c.n(m),x=c(56),p=c.n(x),f=c(57),v=c.n(f),_=c(58),g=c.n(_),N=c(3),S=function(e){var n=e.channelName;return Object(N.jsxs)("div",{className:"chatHeader",children:[Object(N.jsx)("div",{className:"chatHeader__left",children:Object(N.jsxs)("h3",{children:[Object(N.jsx)("span",{className:"chatHeader__hash",children:"   #"}),n]})}),Object(N.jsxs)("div",{className:"chatHeader__right",children:[Object(N.jsx)(b.a,{}),Object(N.jsx)(u.a,{}),Object(N.jsx)(O.a,{}),Object(N.jsxs)("div",{className:"chatHeader__search",children:[Object(N.jsx)("input",{type:"text",placeholder:"Search"}),Object(N.jsx)(p.a,{})]}),Object(N.jsx)(v.a,{}),Object(N.jsx)(g.a,{})]})]})},I=c(61),C=c.n(I),y=c(62),w=c.n(y),k=c(63),B=c.n(k),z=c(108),A=(c(86),function(e){var n=e.timestamp,c=e.user,a=e.message;return Object(N.jsxs)("div",{className:"message",children:[Object(N.jsx)(z.a,{src:c.photo}),Object(N.jsxs)("div",{className:"message__info",children:[Object(N.jsxs)("h4",{children:[c.displayName,Object(N.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]}),Object(N.jsx)("p",{children:a})]})]})}),E=c(28),H=Object(E.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,n){e.channelId=n.payload.channelId,e.channelName=n.payload.channelName}}}),D=H.actions.setChannelInfo,F=function(e){return e.app.channelId},T=function(e){return e.app.channelName},W=H.reducer,G=Object(E.b)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.user=n.payload},logout:function(e){e.user=null}}}),J=G.actions,M=J.login,P=J.logout,R=function(e){return e.user.user},q=G.reducer,L=c(30),U=L.a.initializeApp({apiKey:"AIzaSyC4Ag_qCxtA43BaJTiGS1FX8yRWuB0qfAE",authDomain:"discord-clone-b219e.firebaseapp.com",projectId:"discord-clone-b219e",storageBucket:"discord-clone-b219e.appspot.com",messagingSenderId:"152080203711",appId:"1:152080203711:web:eeb1b2ab68b2d75b662b0a",measurementId:"G-37C8SXRPFB"}).firestore(),V=L.a.auth(),X=new L.a.auth.GoogleAuthProvider,K=U,$=function(){var e=Object(r.c)(R),n=Object(r.c)(F),c=Object(r.c)(T),s=Object(a.useState)(""),t=Object(l.a)(s,2),i=t[0],o=t[1],j=Object(a.useState)([]),b=Object(l.a)(j,2),h=b[0],u=b[1];Object(a.useEffect)((function(){n&&K.collection("channels").doc(n).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[n]);return Object(N.jsxs)("div",{className:"chat",children:[Object(N.jsx)(S,{channelName:c}),Object(N.jsx)("div",{className:"chat__messages",children:h.map((function(e){return Object(N.jsx)(A,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(N.jsxs)("div",{className:"chat__input",children:[Object(N.jsx)(d.a,{fontSize:"large"}),Object(N.jsxs)("form",{children:[Object(N.jsx)("input",{value:i,onChange:function(e){return o(e.target.value)},type:"text",placeholder:n?"Message ".concat(c):"Choose channel",disabled:!n}),Object(N.jsx)("button",{type:"submit",className:"chat__inputButton",disabled:!n,onClick:function(c){c.preventDefault(),K.collection("channels").doc(n).collection("messages").add({timestamp:L.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),o("")},children:"Send Message"})]}),Object(N.jsxs)("div",{className:"chat__inputIcons",children:[Object(N.jsx)(C.a,{fontSize:"large"}),Object(N.jsx)(w.a,{fontSize:"large"}),Object(N.jsx)(B.a,{fontSize:"large"})]})]})]})},Q=c(44),Y=c.n(Q),Z=c(64),ee=c.n(Z),ne=c(65),ce=c.n(ne),ae=c(67),se=c.n(ae),te=c(66),ie=c.n(te);c(89),c(90);var re=function(e){var n=e.id,c=e.channelName,a=Object(r.b)();return Object(N.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(D({channelId:n,channelName:c}))},children:Object(N.jsxs)("h4",{children:[Object(N.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),c]})})},le=c(68),oe=c.n(le),de=c(69),je=c.n(de),be=c(70),he=c.n(be),ue=function(){var e=Object(r.c)(R),n=Object(a.useState)([]),c=Object(l.a)(n,2),s=c[0],t=c[1];Object(a.useEffect)((function(){K.collection("channels").onSnapshot((function(e){return t(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]);return Object(N.jsxs)("div",{className:"sidebar",children:[Object(N.jsxs)("div",{className:"sidebar__top",children:[Object(N.jsx)("h3",{children:"Srikar's Server"}),Object(N.jsx)(Y.a,{})]}),Object(N.jsxs)("div",{className:"sidebar__channels",children:[Object(N.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(N.jsxs)("div",{className:"sidebar__header",children:[Object(N.jsx)(Y.a,{}),Object(N.jsx)("h4",{children:"Text Channels"})]}),Object(N.jsx)(ee.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&K.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(N.jsx)("div",{className:"sidebar__channelsList",children:s.map((function(e){var n=e.id,c=e.channel;return Object(N.jsx)(re,{id:n,channelName:c.channelName},n)}))})]}),Object(N.jsxs)("div",{className:"sidebar__voice",children:[Object(N.jsx)(ce.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(N.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(N.jsx)("h3",{children:"Voice Connected"}),Object(N.jsx)("p",{children:"Stream"})]}),Object(N.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(N.jsx)(ie.a,{}),Object(N.jsx)(se.a,{})]})]}),Object(N.jsxs)("div",{className:"sidebar__profile",children:[Object(N.jsx)(z.a,{onClick:function(){return V.signOut()},src:e.photo}),Object(N.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(N.jsx)("h3",{children:e.displayName}),Object(N.jsxs)("p",{children:["#",e.uid.substring(0,4)]})]}),Object(N.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(N.jsx)(oe.a,{}),Object(N.jsx)(je.a,{}),Object(N.jsx)(he.a,{})]})]})]})},me=c(107),Oe=(c(91),function(){return Object(N.jsxs)("div",{className:"login",children:[Object(N.jsx)("div",{className:"login__logo",children:Object(N.jsx)("img",{src:"https://1000logos.net/wp-content/uploads/2020/10/Discord-logo.png",alt:"discord logo"})}),Object(N.jsx)(me.a,{onClick:function(e){V.signInWithPopup(X).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})});var xe=function(){var e=Object(r.b)(),n=Object(r.c)(R);return Object(a.useEffect)((function(){V.onAuthStateChanged((function(n){e(n?M({uid:n.uid,photo:n.photoURL,email:n.email,displayName:n.displayName}):P())}))}),[e]),Object(N.jsx)("div",{className:"app",children:n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ue,{}),Object(N.jsx)($,{})]}):Object(N.jsx)(Oe,{})})},pe=Object(E.a)({reducer:{user:q,app:W}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(r.a,{store:pe,children:Object(N.jsx)(xe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[92,1,2]]]);
//# sourceMappingURL=main.5788cf5a.chunk.js.map